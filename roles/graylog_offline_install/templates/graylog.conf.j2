#############################
# Graylog Server Configuration
#############################

is_master = true
node_id_file = {{ graylog_local_dir }}/node-id

#############################
# Authentication
#############################

password_secret = {{ graylog_password_secret }}
root_username = {{ graylog_root_user }}
root_password_sha2 = {{ graylog_root_password_sha2 }}
root_timezone = UTC

#############################
# HTTP / REST API Settings
#############################

http_bind_address = {{ graylog_http_bind_address }}
http_publish_uri = {{ graylog_http_publish_uri }}
http_external_uri = {{ graylog_http_publish_uri }}


rest_enable_cors = true
rest_enable_gzip = true
http_enable_cors = true

#############################
# MongoDB
#############################

mongodb_uri = {{ graylog_mongodb_uri }}
mongodb_max_connections = 1000
mongodb_threads_allowed_to_block_multiplier = 5

#############################
# Elasticsearch 7.10.2
#############################

elasticsearch_hosts = http://127.0.0.1:9200
elasticsearch_version = 7
elasticsearch_ssl_verify = false

#############################
# Message Journal
#############################

message_journal_enabled = true
message_journal_dir = /var/lib/graylog-server/journal
message_journal_max_age = 12h
message_journal_max_size = 5gb

#############################
# Processing
#############################

processbuffer_processors = 5
outputbuffer_processors = 3
processor_wait_strategy = blocking
ring_size = 65536

#############################
# Other
#############################

allow_highlighting = true
gc_warning_threshold = 1s
