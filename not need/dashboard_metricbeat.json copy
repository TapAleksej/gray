{
  "title": "Metricbeat - System Overview",
  "description": "CPU / RAM / DISK / NETWORK",

  "search": {
    "queries": [
      {
        "id": "query-1",
        "query": {
          "type": "elasticsearch",
          "query_string": "metricbeat_event_dataset:*"
        },
        "streams": ["{{ metricbeat_stream_id }}"],
        "timerange": {
          "type": "relative",
          "range": 3600
        }
      }
    ]
  },

  "dashboard_elements": [
    {
      "type": "aggregation",
      "title": "CPU Usage (%)",
      "config": {
        "query_id": "query-1",
        "series": [
          {
            "id": "cpu_avg",
            "type": "avg",
            "field": "metricbeat_system_cpu_total_norm_pct"
          }
        ],
        "visualization": "line",
        "interval": "1m",
        "rollup": true
      }
    },

    {
      "type": "aggregation",
      "title": "RAM Usage (%)",
      "config": {
        "query_id": "query-1",
        "series": [
          {
            "id": "ram_avg",
            "type": "avg",
            "field": "metricbeat_system_memory_actual_used_pct"
          }
        ],
        "visualization": "line",
        "interval": "1m",
        "rollup": true
      }
    },

    {
      "type": "aggregation",
      "title": "Disk Usage (%)",
      "config": {
        "query_id": "query-1",
        "series": [
          {
            "id": "disk_avg",
            "type": "avg",
            "field": "metricbeat_system_filesystem_used_pct"
          }
        ],
        "visualization": "line",
        "interval": "1m",
        "rollup": true
      }
    },

    {
      "type": "aggregation",
      "title": "Network I/O (bytes)",
      "config": {
        "query_id": "query-1",
        "series": [
          {
            "id": "net_in",
            "type": "avg",
            "field": "metricbeat_system_network_in_bytes"
          },
          {
            "id": "net_out",
            "type": "avg",
            "field": "metricbeat_system_network_out_bytes"
          }
        ],
        "visualization": "line",
        "interval": "1m",
        "rollup": true
      }
    }
  ]
}
